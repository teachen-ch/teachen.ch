(function($,api,_){function returnDeferred(partial){var deferred=new $.Deferred();deferred.resolveWith(partial,_.map(partial.placements(),function(){return'';}));return deferred.promise();}
api.selectiveRefresh.partialConstructor.cover_fixed=api.selectiveRefresh.Partial.extend({refresh:function(){var partial,cover,params;partial=this;params=partial.params;cover=$(params.selector);if(cover.length&&cover.hasClass('bg-image')){cover.toggleClass('bg-attachment-fixed');}
return returnDeferred(partial);}});api.selectiveRefresh.partialConstructor.cover_opacity=api.selectiveRefresh.Partial.extend({attrs:{},refresh:function(){var partial,ranges,attrs,setting,params,cover,className,classNames;partial=this;attrs=partial.attrs;ranges=_.range(attrs.min,attrs.max+attrs.step,attrs.step);params=partial.params;setting=api(params.primarySetting);cover=$(params.selector);if(cover.length){classNames=_.map(ranges,function(val){return'opacity-'+val;});className=classNames[ranges.indexOf(parseInt(setting.get(),10))];cover.removeClass(classNames.join(' '));cover.addClass(className);}
return returnDeferred(partial);}});api('header_footer_background_color',function(value){value.bind(function(to){$('body:not(.overlay-header)#site-header, #site-footer').css('background-color',to);if(to.toLowerCase()===api('background_color').get().toLowerCase()){$('body').addClass('reduced-spacing');}else{$('body').removeClass('reduced-spacing');}});});api('background_color',function(value){value.bind(function(to){if(to.toLowerCase()===api('header_footer_background_color').get().toLowerCase()){$('body').addClass('reduced-spacing');}else{$('body').removeClass('reduced-spacing');}});});api('accent_hue',function(value){value.bind(function(){setTimeout(function(){Object.keys(twentyTwentyBgColors).forEach(function(context){twentyTwentyGenerateColorA11yPreviewStyles(context);});},50);});});Object.keys(twentyTwentyBgColors).forEach(function(context){wp.customize(twentyTwentyBgColors[context].setting,function(value){value.bind(function(){setTimeout(function(){twentyTwentyGenerateColorA11yPreviewStyles(context);},50);});});});function twentyTwentyGenerateColorA11yPreviewStyles(context){var a11yColors=window.parent.wp.customize('accent_accessible_colors').get(),stylesheedID='twentytwenty-customizer-styles-'+context,stylesheet=$('#'+stylesheedID),styles='';if(!stylesheet.length){$('#twentytwenty-style-inline-css').after('<style id="'+stylesheedID+'"></style>');stylesheet=$('#'+stylesheedID);}
if(!_.isUndefined(a11yColors[context])){if(twentyTwentyPreviewEls[context]){_.each(twentyTwentyPreviewEls[context],function(items,setting){_.each(items,function(elements,property){if(!_.isUndefined(a11yColors[context][setting])){styles+=elements.join(',')+'{'+property+':'+a11yColors[context][setting]+';}';}});});}}
stylesheet.html(styles);}
$(document).ready(function(){twentyTwentyGenerateColorA11yPreviewStyles('content');twentyTwentyGenerateColorA11yPreviewStyles('header-footer');});}(jQuery,wp.customize,_));